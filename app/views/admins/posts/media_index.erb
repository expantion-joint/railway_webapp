<div class="admin-container">
	<h2 class="h2">アクティブストレージ一覧</h2>
  <table class="admin_table">
		<thead>
			<tr>
				<th>ID</th>
				<th>Title</th>
				<th>Filename</th>
				<th>Type</th>
				<th>Size (KB)</th>
				<th>Media</th>
				<th>Action</th> <!-- 新しく「Action」列を追加 -->
			</tr>
		</thead>
		<tbody>
			<% @posts.each do |post| %>
				<tr>
					<td><%= post.id %></td>
					<td><%= post.title %></td>
					<% if post.media.attached? %>
						<td><%= post.media.filename.to_s %></td>
						<td><%= post.media.content_type %></td>
						<td><%= post.media.byte_size / 1024 %></td>
						<td><%= link_to 'View Media', url_for(post.media), target: '_blank' %></td>
						<td>
							<%= link_to '圧縮', compress_media_admin_post_path(post.id), method: :post, class: "btn btn-primary" %>
						</td>
					<% else %>
						<td colspan="3">No Media</td>
						<td></td> <!-- アクションカラムのスペース確保 -->
					<% end %>
				</tr>
			<% end %>
		</tbody>
	</table>
</div>

